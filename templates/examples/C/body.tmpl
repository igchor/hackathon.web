{{top "UMF numa example"}}

<p class="intro">

UMF allows selecting a specific NUMA node (or multiple nodes) to allocate from. This example will demonstrate how to leverage that capability.

<p>
To learn more about UMF, visit:
<p>
https://oneapi-src.github.io/unified-memory-framework/
<p>

{{step "Memory providers and memory pools"}}

<p>
This example will use two different ways to achieve the same results: by using umfMemspaceFilterById and umfMemspaceCreateFromNumaArray functions.
<p>
In this example, we will not be creating any memory pools, but rather we will use allocate memory directly from the provider. However, feel free to modify the example and experiment with creating memory pools on top of the created providers.
<p>


{{step "Using UMF to allocate memory from a give NUMA node(s)"}}

<p>

<p>
"memspace_numa.c" ilustrates memory provider and memory pool concepts.
<p>

{{edit "memspace_numa.c" "Makefile"}}

<p>

{{build "make"}}

<p>
If the programs built without errors, continue on to the next step below.

{{step "Run"}}

<p>

Of course, you should feel free to edit the script below and run it
again and again, to experiment with different commands.

{{edit "run_examples.sh"}}

<p>
Now you can try running the program using the above commands.

{{run "./run_examples.sh"}}

<p>

{{summary}}

<p>

This example demonstrated how to use UMF to allocate memory from a specific NUMA node(s).

{{bottom}}

